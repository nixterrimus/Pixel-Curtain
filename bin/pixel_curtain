#!/usr/bin/env ruby

dir = File.expand_path(File.dirname(__FILE__))
require dir + '/../lib/pixel_curtain'

input_file = ARGV[0]
output_file = "#{File.basename(input_file, ".*")}-output.png"

if input_file.nil?
  puts "input file required"
else
  curtain = PixelCurtain::Curtain.new(input_file)
  curtain.process(rand(20)+5)
  curtain.save(output_file)
end